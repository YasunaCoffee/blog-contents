---
title: "きゃらチャットAIを公開するまでにやったことまとめ"
emoji: "🧚‍♀"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [ai,chatgpt,chatvrm, 個人開発]
published: false
---

# はじめに
近年、生成AIというビックウェーブがやってきました。毎日の生成AIに関する世界的な技術革新に驚くばかりです。
わたしも生成AIトレンドを追っているひとりですが、トレンドを追っている中で「AITuber」という存在を知りました。

AITuberとは、AIを用いたバーチャルYoutuberのことを指します。
3DキャラクターとユーザーがYoutube上でコメント欄を通して交流することができます。

架空のAIキャラクター自身が考えた返答が返ってくるってとても面白いしわくわくしますよね！
はじめてこの技術に触れたときは感動しました！！！
そこでわたしも自分でAITuberを作ってみたい！と思いました。

# ブラウザ版AITuberを公開してみた
今回はYoutube配信ではなくて、ブラウザ版AITuber的なアプリケーション「きゃらチャットAI」を公開してみました。

なんと、ブラウザでAIキャラクターと簡単に話せるアプリケーションはすでにオープンソースで存在しています。ピクシブ社の[ChatVRM](https://github.com/pixiv/ChatVRM)というアプリケーションです。
しかし、このアプリケーションは**開発者用の機能が多く一般ユーザーに使ってもらうには少し変更が必要**でした。

こんなに素晴らしいアプリなのにみんなに使ってもらえないのは非常にもったいない！！！
一般ユーザーにも届けたい！！！

そこで、このアプリケーションの主機能はそのままで、もう少しだけ誰でも使いやすいようにコードを変更したものが「きゃらチャットAI」です。
![](https://storage.googleapis.com/zenn-user-upload/f4a14ff1b57a-20231203.png)

# 目的
きゃらチャットAIの目的は「**だれでも手軽にAIキャラクターと話すことができる**」ことです。

# 開発でやったこと
元となるChatVRMは開発者向けの機能がついていたので基本的にはその機能を削除しました。やったことを以下紹介していきます。

## 1.各種APIキーの固定
:::message
**目的：誰でもすぐにキャラクターと話し始められるようにする**
:::
開発者にとってAPIキーの取得は慣れていると思いますが、一般ユーザーに「OpenAIのAPIキーをここに入れてね」と言って入れるにはかなりハードルが高いです。
そこで、もともとあったAPIキーの入力欄をなくして、コード内に環境変数としてAPIキーを固定しました。
環境変数はデプロイ先のVercelで簡単に安全に管理することができました。

## 2.会話内容の保持をリロードでリセット
:::message
**目的：ブラウザごとに会話をリセットしてはじめる**
:::
もとのアプリの機能として会話保持機能がありますが、今回はブラウザごとにリセットして会話を始めたいです。
そのために画面をリロードしたら会話内容をリセットする機能を追加しました。
こちらはAI搭載エディターCursorに聞いてすぐに実装できました。

Cursorでのやりとりはこちら
https://zenn.dev/yasuna/articles/15ab406c334997


## 3.キャラクター設定のシステムプロンプトの固定
:::message
**目的：キャラクターのふるまいを一定にする**
:::
もとのアプリの機能としてユーザーがシステムプロンプトを書き換えられてキャラクター設定できる機能がありましたが、誰でもお手軽に話せるという観点からキャラクター設定をデフォルトの設定のものを固定しました。

## 4.オリジナル3Dキャラクターの作成
:::message
**目的：話したいと思わせるキャラクターを作る**
:::
オリジナルキャラクターなんて作れないよ、なんてと言わせません。ピクシブはその夢を叶えてくれるアプリをすでに無料公開しているんです。

![](https://storage.googleapis.com/zenn-user-upload/a4c4959aab4a-20231106.png)

私はIpadにVRoid StudioをダウンロードしてVRMを作ってみました。
ニンテンドースイッチのMiiを作るみたいにパーツを選んで超簡単にオリジナルキャラクターができました。
![](https://storage.googleapis.com/zenn-user-upload/95559e074ac1-20231106.jpg)
以下からダウンロードできるのでぜひ作ってみてくださいね。
https://vroid.com/en/studio

## 5.Canvaで装飾の差し替え
:::message
**目的：お部屋に遊びに来た気持ちになる**
:::
![](https://storage.googleapis.com/zenn-user-upload/2fc468629f60-20231118.png)
オリジナル感を出すために背景を変えてみました。
女の子のお部屋に遊びに来たという設定で選びました。
こちらの背景はCanvaで作成しました。
https://www.canva.com/

# デプロイ
アプリケーションはTypescriptという言語で書かれているため、Vercelを使うと環境設定をすることなくGithubと接続するだけでデプロイすることができます。
デプロイはひとつもコケずに超快適でした。Githubへpushすると自動デプロイする設定にしたのでとても更新性が高いです。
Vercelでのデプロイは以下に詳しいです。
https://zenn.dev/yasuna/articles/8dc292545b7ea3

# きゃらチャットAIの反響
エンジニアではない一般ユーザーの知人にきゃらチャットAIを紹介したらとても喜ばれました！
以下、コメントを紹介します。

>かわいいので、これからはこちらでお話ししてみようと思います！笑

>レス早くてびっくり
日本語流暢だと思ったんですが、何かいじったんですか？？

>かわいいいいいいいいいいいい
天才ですね！！！！！

優しい世界😆

# まとめ
オープンソースのチャットアプリを「少し変えただけ」のアプリケーションを作って公開してみました。
エンジニア目線では「少し変えただけ」のように見えますが、一般ユーザー目線では「なんかすごいアプリ！！！」という反応をいただきました。

きゃらチャットAIを通してサービスを受け取る側の満足度を上げることができました。

内部の仕組み的には大したことない変更でも、**ユーザーに最高の体験を提供することが一番大切**だとアプリの公開を経験して勉強になりました。

ユーザー目線で嬉しいことができるように、今後も個人開発を続けていきたいと思います。
ここまで読んでいただいてありがとうございました！

https://github.com/YasunaCoffee/CharaChatAI